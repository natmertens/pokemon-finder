let pokemonRepository = (function() {
  let t = [],
    e = 'https://pokeapi.co/api/v2/pokemon/?limit=150';
  let n = document.querySelector('.modal-body'),
    o = document.querySelector('.modal-title');
  return {
    getAll: function() {
      return t;
    },
    addListItem: function(t) {
      let e = document.querySelector('.pokemon-list'),
        i = document.createElement('li');
      i.classList.add('list-group-item');
      let c = document.createElement('button');
      (c.innerText = t.name),
        c.classList.add('btn'),
        c.classList.add('btn-warning'),
        c.classList.add('button-class'),
        c.setAttribute('data-toggle', 'modal'),
        c.setAttribute('data-target', '#pokemon-modal'),
        i.appendChild(c),
        e.appendChild(i),
        c.addEventListener('click', function() {
          !(function(t) {
            (function(t) {
              let e = t.detailsURL;
              return fetch(e)
                .then(function(t) {
                  return t.json();
                })
                .then(function(e) {
                  (t.imageURL = e.sprites.front_default), (t.height = e.height);
                })
                .catch(function(t) {
                  console.error(t);
                });
            })(t).then(function() {
              !(function(t) {
                (o.innerHTML = ''), (n.innerHTML = '');
                let e = document.createElement('h1');
                e.innerText = t.name;
                let i = document.createElement('img');
                i.classList.add('modal-img'), i.setAttribute('src', t.imageURL);
                let c = document.createElement('p');
                (c.innerText = 'height: ' + t.height),
                  o.appendChild(e),
                  n.appendChild(i),
                  n.appendChild(c);
              })(t);
            });
          })(t);
        });
    },
    loadList: function() {
      return fetch(e)
        .then(function(t) {
          return t.json();
        })
        .then(function(e) {
          e.results.forEach(function(e) {
            !(function(e) {
              t.push(e);
            })({ name: e.name, detailsURL: e.url });
          });
        })
        .catch(function(t) {
          console.error(t);
        });
    }
  };
})();
pokemonRepository.loadList().then(function() {
  pokemonRepository.getAll().forEach(function(t) {
    pokemonRepository.addListItem(t);
  });
});
